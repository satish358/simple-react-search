{"version":3,"file":"index.es.js","sources":["../node_modules/fuzzysearch/index.js","../src/index.js"],"sourcesContent":["'use strict';\n\nfunction fuzzysearch (needle, haystack) {\n  var tlen = haystack.length;\n  var qlen = needle.length;\n  if (qlen > tlen) {\n    return false;\n  }\n  if (qlen === tlen) {\n    return needle === haystack;\n  }\n  outer: for (var i = 0, j = 0; i < qlen; i++) {\n    var nch = needle.charCodeAt(i);\n    while (j < tlen) {\n      if (haystack.charCodeAt(j++) === nch) {\n        continue outer;\n      }\n    }\n    return false;\n  }\n  return true;\n}\n\nmodule.exports = fuzzysearch;\n","import fuzzysearch from \"fuzzysearch\";\nimport * as React from \"react\";\n\nexport const validateSearchInitInput = (data = [], searchKeys = []) => {\n  if (data.length === 0) throw new Error(\"Search metadata should not be empty\");\n  for (let key of searchKeys)\n    for (let item of data)\n      if (!(key in item))\n        throw new Error(\"Search keys are invalid, not present in metadata\");\n};\n\nexport const searchFromMetadata = (data = [], searchKeys = [], query = \"\") => {\n  return data.filter((item) => {\n    for (let key of searchKeys)\n      if (fuzzysearch(query.toLocaleLowerCase(), item[key].toLocaleLowerCase()))\n        return true;\n    return false;\n  });\n};\nexport const useReactSearch = (data = [], searchKeys = []) => {\n  React.useEffect(() => {\n    validateSearchInitInput(data, searchKeys);\n  }, []);\n  return (query = \"\") => searchFromMetadata(data, searchKeys, query);\n};\n"],"names":["validateSearchInitInput","data","arguments","length","undefined","searchKeys","Error","_iterator","_createForOfIteratorHelper","_step","s","n","done","key","value","_iterator2","_step2","item","err","e","f","searchFromMetadata","query","filter","_iterator3","_step3","fuzzysearch","toLocaleLowerCase","useReactSearch","React"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,SAAS,WAAW,EAAE,MAAM,EAAE,QAAQ,EAAE;AACxC,EAAE,IAAI,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC;AAC7B,EAAE,IAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC;AAC3B,EAAE,IAAI,IAAI,GAAG,IAAI,EAAE;AACnB,IAAI,OAAO,KAAK,CAAC;AACjB,GAAG;AACH,EAAE,IAAI,IAAI,KAAK,IAAI,EAAE;AACrB,IAAI,OAAO,MAAM,KAAK,QAAQ,CAAC;AAC/B,GAAG;AACH,EAAE,KAAK,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,EAAE;AAC/C,IAAI,IAAI,GAAG,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AACnC,IAAI,OAAO,CAAC,GAAG,IAAI,EAAE;AACrB,MAAM,IAAI,QAAQ,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,KAAK,GAAG,EAAE;AAC5C,QAAQ,SAAS,KAAK,CAAC;AACvB,OAAO;AACP,KAAK;AACL,IAAI,OAAO,KAAK,CAAC;AACjB,GAAG;AACH,EAAE,OAAO,IAAI,CAAC;AACd,CAAC;AACD;AACA,iBAAc,GAAG,WAAW;;ICpBfA,uBAAuB,GAAG,SAA1BA,uBAAuBA,GAAmC;EAAA,IAA/BC,IAAI,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAAA,IAAEG,UAAU,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAChE,IAAID,IAAI,CAACE,MAAM,KAAK,CAAC,EAAE,MAAM,IAAIG,KAAK,CAAC,qCAAqC,CAAC;EAAC,IAAAC,SAAA,GAAAC,0BAAA,CAC9DH,UAAU;IAAAI,KAAA;EAAA;IAA1B,KAAAF,SAAA,CAAAG,CAAA,MAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA,GACE;MAAA,IADOC,GAAG,GAAAJ,KAAA,CAAAK,KAAA;MAAA,IAAAC,UAAA,GAAAP,0BAAA,CACOP,IAAI;QAAAe,MAAA;MAAA;QAArB,KAAAD,UAAA,CAAAL,CAAA,MAAAM,MAAA,GAAAD,UAAA,CAAAJ,CAAA,IAAAC,IAAA,GACE;UAAA,IADOK,IAAI,GAAAD,MAAA,CAAAF,KAAA;UACX,IAAI,EAAED,GAAG,IAAII,IAAI,CAAC,EAChB,MAAM,IAAIX,KAAK,CAAC,kDAAkD,CAAC;;eAACY,GAAA;QAAAH,UAAA,CAAAI,CAAA,CAAAD,GAAA;;QAAAH,UAAA,CAAAK,CAAA;;;WAAAF,GAAA;IAAAX,SAAA,CAAAY,CAAA,CAAAD,GAAA;;IAAAX,SAAA,CAAAa,CAAA;;AAC5E,CAAC;AAED,IAAaC,kBAAkB,GAAG,SAArBA,kBAAkBA,GAA+C;EAAA,IAA3CpB,IAAI,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAAA,IAAEG,UAAU,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAAA,IAAEoB,KAAK,GAAApB,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EACvE,OAAOD,IAAI,CAACsB,MAAM,CAAC,UAACN,IAAI,EAAK;IAAA,IAAAO,UAAA,GAAAhB,0BAAA,CACXH,UAAU;MAAAoB,MAAA;IAAA;MAA1B,KAAAD,UAAA,CAAAd,CAAA,MAAAe,MAAA,GAAAD,UAAA,CAAAb,CAAA,IAAAC,IAAA,GACE;QAAA,IADOC,GAAG,GAAAY,MAAA,CAAAX,KAAA;QACV,IAAIY,aAAW,CAACJ,KAAK,CAACK,iBAAiB,EAAE,EAAEV,IAAI,CAACJ,GAAG,CAAC,CAACc,iBAAiB,EAAE,CAAC,EACvE,OAAO,IAAI;;aAACT,GAAA;MAAAM,UAAA,CAAAL,CAAA,CAAAD,GAAA;;MAAAM,UAAA,CAAAJ,CAAA;;IAChB,OAAO,KAAK;GACb,CAAC;AACJ,CAAC;AACD,IAAaQ,cAAc,GAAG,SAAjBA,cAAcA,GAAmC;EAAA,IAA/B3B,IAAI,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAAA,IAAEG,UAAU,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EACvD2B,SAAe,CAAC,YAAM;IACpB7B,uBAAuB,CAACC,IAAI,EAAEI,UAAU,CAAC;GAC1C,EAAE,EAAE,CAAC;EACN,OAAO;IAAA,IAACiB,KAAK,GAAApB,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;IAAA,OAAKmB,kBAAkB,CAACpB,IAAI,EAAEI,UAAU,EAAEiB,KAAK,CAAC;;AACpE,CAAC;;;;"}